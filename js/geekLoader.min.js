function GeekLoader(){
var dL,pL,sL,dg,tm,aP,lR,cT,cS,gLP,gTP,gIP,i,j,gSS,sS,mG,mA,mT,mI;dL=document;pL=[];sL={};dg=0;this.type='life';this.contain='loader';this.size=5;this.rows=12;this.columns=12;this.border=true;this.style='default';this.time=500;
this.getTypesAvailable=function(){return ['life','ant','tardis','invaders'];};
cT=function(t){if(!~t.getTypesAvailable().indexOf(t.type)){t.type='life';}};
cS=function(t){var r,c;switch(t.type){case 'tardis':r=(t.rows<14)?14:t.rows;c=(t.columns<9)?9:t.columns;break;case 'invaders':r=(t.rows<10)?10:t.rows;c=(t.columns<13)?13:t.columns;break;case 'ant':case 'life':default:r=(t.rows<4)?4:t.rows;c=(t.columns<4)?4:t.columns;break;}t.rows=r;t.columns=c;};
this.generate=function(){cT(this);cS(this);switch(this.type){case 'life':pL=gLP(this);break;case 'tardis':pL=gTP(this);break;case 'invaders':pL=gIP(this);break;}};
gLP=function(t){var c,l,h,v,e,lP;c=0;lP=[];l=parseInt((t.rows*t.columns)*0.2);do{h=Math.floor(Math.random()*t.rows+1);v=Math.floor(Math.random()*t.columns+1);e=`${h}-${v}`;if(!~lP.indexOf(e)){lP.push(e);c++;}}while(c<l);return lP;};
gIP=function(t){var bR,bC,iP,nB,pC,p;iP=[];nB=['1-3','1-9','2-4','2-8','3-3','3-4','3-5','3-6','3-7','3-8','3-9','4-2','4-3','4-5','4-6','4-7','4-9','4-10','5-1','5-2','5-3','5-4','5-5','5-6','5-7','5-8','5-9','5-10','5-11','6-1','6-3','6-4','6-5','6-6','6-7','6-8','6-9','6-11','7-1','7-3','7-9','7-11','8-4','8-5','8-7','8-8'];if(((t.columns-11)%2)!=0){t.columns++;}if(((t.rows-8)%2)!=0){t.rows++;}bR=(t.rows-8)/2;bC=(t.columns-11)/2;for(i=1;i<=t.rows;i++){for(j=1;j<=t.columns;j++){pC=`${i}-${j}`;if(~nB.indexOf(pC)){p=`${i+bR}-${j+bC}`;iP.push(p);}}}return iP;};
gTP=function(t){var tP,p,d,tP=[];d={s:2,e:t.columns-1,b:t.rows-1,t:5};lR=t.rows;for(i=d.s;i<=d.e;i++){if(i>d.s&&i<d.e){p=`${(d.t-1)}-${i}`;tP.push(p);}p=`${d.b}-${i}`;tP.push(p);p=`${d.t}-${i}`;tP.push(p);}for(i=d.t;i<=d.b;i++){p=`${i}-${d.s}`;tP.push(p);p=`${i}-${d.e}`;tP.push(p);}for(i=(d.t+2);i<(d.b-1);i=i+2){for(j=d.s;j<=d.e;j++){p=`${i}-${j}`;tP.push(p);}}gTT(t);return tP.filter(function(e,i){return tP.indexOf(e)==i;});function gTT(t){var m,f,mP;m=[];f=2;mP=parseInt((t.columns)/2);if((t.columns%2==0)){m=[mP,(mP+1)];}else{m=[mP+1];}for(i=f;i<(d.b);i++){for(j=0;j<m.length;j++){p=`${i}-${m[j]}`;tP.push(p);}}}};
this.loadBrick=function(){var e,cN,l,iP,px,py;e='';l=dL.getElementById(this.contain);px=iP=l.offsetLeft;py=l.offsetTop;sL=gCSS(this);for(i=1;i<=this.rows;i++){for(j=1;j<=this.columns;j++){e+=`<div class="brickW" id="brick${i}-${j}-${this.contain}" style="left:${px}px;top:${py}px;${sL.bW}"></div>`;px+=this.size;}px=iP;py+=this.size;}l.innerHTML=e;};
gCSS=function(t){var b,s1,s2,s3,sr,cW,cBr,cB,cA;b=(t.border)?1:0;s1=`position:absolute;height:${t.size}px;width:${t.size}px;background-color:#`;s2=`;border:solid #`;s3=` ${b}px;`;sr=`top:0px;left:0px;height:${t.size}px;width:${t.size}px;background-color:#`;switch(t.style){case 'primary':cW=`337ab7`;cBr=`2e6da4`;cB=`fff`;cA=`FF0303`;break;case 'not-primary':cW=`fff`;cBr=`2e6da4`;cB=`337ab7`;cA=`FF0303`;break;case 'success':cW=`5cb85c`;cBr=`4cae4c`;cB=`fff`;cA=`FF0303`;break;case 'not-success':cW=`fff`;cBr=`4cae4c`;cB=`5cb85c`;cA=`FF0303`;break;case 'info':cW=`5bc0de`;cBr=`46b8da`;cB=`fff`;cA=`FF0303`;break;case 'not-info':cW=`fff`;cBr=`46b8da`;cB=`5bc0de`;cA=`FF0303`;break;case 'warning':cW=`f0ad4e`;cBr=`eea236`;cB=`fff`;cA=`000`;break;case 'not-warning':cW=`fff`;cBr=`eea236`;cB=`f0ad4e`;cA=`000`;break;case 'danger':cW=`d9534f`;cBr=`d43f3a`;cB=`fff`;cA=`000`;break;case 'not-danger':cW=`fff`;cBr=`d43f3a`;cB=`d9534f`;cA=`000`;break;case 'default':default:cW=`FFF`;cBr=`999`;cB=`000`;cA=`FF0303`;break;}return {bW:`${s1}${cW}${s2}${cBr}${s3}`,bB:`${s1}${cB}${s2}${cBr}${s3}`,bR:`${sr}${cA}${s2}${cBr}${s3}`}};
this.setFigure=function(){var v,b,d,di;switch(this.type){case 'life':case 'tardis':case 'invaders':v=pL;for(i=0;i<v.length;i++){b=`brick${v[i]}-${this.contain}`;d=dL.getElementById(b);sS(d,'brickB',sL.bB);}break;case 'ant':aP=Math.floor(this.rows/2)+'-'+Math.floor(this.columns/2);b=`brick${aP}-${this.contain}`;d=dL.getElementById(b);di=dL.createElement('div');di.className='brickR';di.setAttribute('style',sL.bR);d.appendChild(di);break;}};
this.setSize=function(h,v){this.rows=(h==undefined)?12:h;this.columns=(v==undefined)?12:v;};
this.start=function(){this.generate();this.loadBrick();this.setFigure();var t=this;tm=setInterval(function(){t.move()},this.time);};
this.move=function(){switch(this.type){case 'life': mG(this);break;case 'ant':mA(this);break;case 'tardis':mT(this);break;case 'invaders':mI(this);break;}};
mI=function(t){var iC,bR,bC,b,cN,pC,b,d;iC=['3-1','3-11','4-1','4-11','6-1','6-2','6-10','6-11','7-1','7-11','8-2','8-4','8-5','8-7','8-8','8-10'];bR=(t.rows-8)/2;bC=(t.columns-11)/2;for(i=1;i<t.rows;i++){for(j=1;j<t.columns;j++){pC=`${i}-${j}`;if(~iC.indexOf(pC)){b=`brick${i+bR}-${j+bC}-${t.contain}`;d=dL.getElementById(b);if(d.className=='brickB'){sS(d,'brickW',sL.bW);}else if(d.className=='brickW'){sS(d,'brickB',sL.bB);}}}}};
mT=function(t){var b,p,d;lR=((lR-1)==1)?t.rows:(lR-1);for(i=1;i<=t.columns;i++){p=`${lR}-${i}`;b=`brick${lR}-${i}-${t.contain}`;d=dL.getElementById(b);if(d.className=='brickB'){sS(d,'brickW',sL.bW);}else if(d.className=='brickW'&&(~pL.indexOf(p))){sS(d,'brickB',sL.bB);}}};
mG=function(t){var m,b,d,c;m=false;for(i=1;i<=t.rows;i++){for(j=1;j<=t.columns;j++){b=`brick${i}-${j}-${t.contain}`;d=dL.getElementById(b);c=cC(i,j,t);if(d.className=='brickB'&&(c<2||c>3)){sS(d,'brickW',sL.bW);m=true;}else if(d.className=='brickW'&&c==3){sS(d,'brickB',sL.bB);m=true;}}}if(!m){t.generate();t.setFigure();}function cC(x,y,t){var b,l,d,i,j;l=0;for(i=-1;i<=1;i++){for(j=-1;j<=1;j++){if(i!=0||j!=0){b=`brick${x+i}-${y+j}-${t.contain}`;d=dL.getElementById(b);if(d!=null&&d.className=='brickB'){l++;}}}}return l;}};
mA=function(t){var aA,nP,aN,vA,nN,cN,cL,d,da,v0,v1;aA=`<div class="brickR" style="${sL.bR}"></div>`;aN=`brick${aP}-${t.contain}`;vA=aP.split('-');d=dL.getElementById(aN);v0=v1=0;if(d.className=='brickW'){cN='brickB';cl=sL.bB;switch(dg){case 0:if((parseInt(vA[0])-1)>0){v0=-1;}break;case 90:if((parseInt(vA[1])+1)<=t.columns){v1=1;}break;case 180:if((parseInt(vA[0])+1)<=t.rows){v0=1;}break;case 270:if((parseInt(vA[1])-1)>0){v1=-1;}break;}dg+=90;}else{cN='brickW';cl=sL.bW;switch(dg){case 0:if((parseInt(vA[0])+1)<=t.rows){v0=1;}break;case 90:if((parseInt(vA[1])-1)>0){v1=-1;}break;case 180:if((parseInt(vA[0])-1)>0){v0=-1;}break;case 270:if((parseInt(vA[1])+1)<=t.columns){v1=1;}break;}dg-=90;}dg=(dg==360)?0:((dg==-90)?270:dg);if(v0!=0||v1!=0){nN=(parseInt(vA[0])+v0)+'-'+(parseInt(vA[1])+v1);aP=nN;d.innerHTML='';sS(d,cN,cl);nP=`brick${aP}-${t.contain}`;dL.getElementById(nP).innerHTML=aA;}};
sS=function(d,c,l){d.className=c;var s=`left:${d.style.left};top:${d.style.top};${l}`;d.setAttribute('style',s);};
this.stop=function(){clearInterval(tm);this.cleanDesk();};
this.cleanDesk=function(){dL.getElementById(this.contain).innerHTML='';};
};